<mat-sidenav-container>
    <mat-sidenav class="oc-mobile-sidenav" *ngIf="mobile">
        <mat-toolbar>
            <img routerLink="/"
                 class="oc-title-logo"
                 src="/assets/img/oc_logo_stroke_combined_blue.svg">
        </mat-toolbar>
        <oc-divider></oc-divider>
        <oc-nav>
            <div class="lang-toggler">
                {{ 'i18n.common.lang.de' | translate }}
                <mat-slide-toggle (change)="changeLang()" [(ngModel)]="isEnglish"></mat-slide-toggle>
                {{ 'i18n.common.lang.en' | translate }}
            </div>
        </oc-nav>
    </mat-sidenav>

    <mat-toolbar color="primary" class="oc-primary-toolbar">
        <mat-icon class="toolbar-icon" (click)="openSidenav()" *ngIf="mobile">menu</mat-icon>
        <!--<h1 class="oc-title" routerLink="/">{{ title }}</h1>-->

        <img routerLink="/"
             class="oc-title-logo"
             src="/assets/img/oc_logo_stroke_combined_blue_inverted.svg">

        <span class="toolbar-fill-space"></span>
        <button mat-button *ngIf="auth.isLoggedIn(); else notLoggedIn" (click)="logout()">Logout</button>
        <ng-template #notLoggedIn>
            <button mat-button (click)="login()">Login</button>
        </ng-template>
        <button mat-icon-button [mat-menu-trigger-for]="themeMenu">
            <mat-icon>more_vert</mat-icon>
        </button>
        <mat-menu #themeMenu="matMenu" class="oc-theme-menu">
            <span class="oc-theme-menu-title">{{ 'i18n.common.theme.title' | translate }}</span>
            <button mat-menu-item *ngFor="let theme of allThemes" (click)="changeTheme(theme)">
                <mat-icon *ngIf="theme.equals(_activeTheme); else notActiveTheme">check</mat-icon>
                <ng-template #notActiveTheme>
                    <mat-icon></mat-icon>
                </ng-template>
                <span>{{ 'i18n.common.theme.' + theme.i18nKey | translate }}</span>
            </button>
        </mat-menu>
    </mat-toolbar>

    <div class="main-area">
        <oc-nav [collapsible]="true" *ngIf="!mobile" class="oc-side-sidenav" #ocNav>
            <!-- TODO only temporary -->
            <div class="lang-toggler" *ngIf="!ocNav.collapsed">
                {{ 'i18n.common.lang.de' | translate }}
                <mat-slide-toggle (change)="changeLang()" [(ngModel)]="isEnglish"></mat-slide-toggle>
                {{ 'i18n.common.lang.en' | translate }}
            </div>
        </oc-nav>
        <div class="app-content">
            <router-outlet></router-outlet>
        </div>
    </div>
    <oc-footer *ngIf="!mobile"></oc-footer>
    <simple-notifications></simple-notifications>
</mat-sidenav-container>
